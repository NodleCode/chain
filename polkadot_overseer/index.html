<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Overseer"><meta name="keywords" content="rust, rustlang, rust-lang, polkadot_overseer"><title>polkadot_overseer - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../polkadot_overseer/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate polkadot_overseer</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.9.12</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all polkadot_overseer's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="polkadot_overseer" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">polkadot_overseer</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/polkadot_overseer/lib.rs.html#17-782" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h1 id="overseer" class="section-header"><a href="#overseer">Overseer</a></h1>
<p><code>overseer</code> implements the Overseer architecture described in the
<a href="https://w3f.github.io/parachain-implementers-guide/node/index.html">implementers-guide</a>.
For the motivations behind implementing the overseer itself you should
check out that guide, documentation in this crate will be mostly discussing
technical stuff.</p>
<p>An <code>Overseer</code> is something that allows spawning/stopping and overseeing
asynchronous tasks as well as establishing a well-defined and easy to use
protocol that the tasks can use to communicate with each other. It is desired
that this protocol is the only way tasks communicate with each other, however
at this moment there are no foolproof guards against other ways of communication.</p>
<p>The <code>Overseer</code> is instantiated with a pre-defined set of <code>Subsystems</code> that
share the same behavior from <code>Overseer</code>’s point of view.</p>
<div class="example-wrap"><pre class="language-text"><code>                             +-----------------------------+
                             |         Overseer            |
                             +-----------------------------+

            ................|  Overseer &quot;holds&quot; these and uses |..............
            .                  them to (re)start things                      .
            .                                                                .
            .  +-------------------+                +---------------------+  .
            .  |   Subsystem1      |                |   Subsystem2        |  .
            .  +-------------------+                +---------------------+  .
            .           |                                       |            .
            ..................................................................
                        |                                       |
                      start()                                 start()
                        V                                       V
            ..................| Overseer &quot;runs&quot; these |.......................
            .  +--------------------+               +---------------------+  .
            .  | SubsystemInstance1 |               | SubsystemInstance2  |  .
            .  +--------------------+               +---------------------+  .
            ..................................................................</code></pre></div></div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-left import-item"><code>pub use polkadot_node_subsystem_types::<a class="mod" href="../polkadot_node_jaeger/index.html" title="mod polkadot_node_jaeger">jaeger</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use self::metrics::<a class="struct" href="metrics/struct.Metrics.html" title="struct polkadot_overseer::metrics::Metrics">Metrics</a> as OverseerMetrics;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use self::dummy::<a class="struct" href="dummy/struct.DummySubsystem.html" title="struct polkadot_overseer::dummy::DummySubsystem">DummySubsystem</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use polkadot_node_metrics::metrics::<a class="mod" href="metrics/metrics/prometheus/index.html" title="mod polkadot_overseer::metrics::metrics::prometheus">prometheus</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use <a class="mod" href="../polkadot_overseer_gen/index.html" title="mod polkadot_overseer_gen">polkadot_overseer_gen</a> as gen;</code></div><div class="item-right docblock-short"></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="dummy/index.html" title="polkadot_overseer::dummy mod">dummy</a></div><div class="item-right docblock-short"><p>A dummy subsystem, mostly useful for placeholders and tests.</p>
</div><div class="item-left module-item"><a class="mod" href="metrics/index.html" title="polkadot_overseer::metrics mod">metrics</a></div><div class="item-right docblock-short"><p>Prometheus metrics related to the overseer and its channels.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.ActivatedLeaf.html" title="polkadot_overseer::ActivatedLeaf struct">ActivatedLeaf</a></div><div class="item-right docblock-short"><p>Activated leaf.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ActiveLeavesUpdate.html" title="polkadot_overseer::ActiveLeavesUpdate struct">ActiveLeavesUpdate</a></div><div class="item-right docblock-short"><p>Changes in the set of active leaves: the parachain heads which we care to work on.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.BlockInfo.html" title="polkadot_overseer::BlockInfo struct">BlockInfo</a></div><div class="item-right docblock-short"><p>An event telling the <code>Overseer</code> on the particular block
that has been imported or finalized.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.ChannelsOut.html" title="polkadot_overseer::ChannelsOut struct">ChannelsOut</a></div><div class="item-right docblock-short"><p>Collection of channels to the individual subsystems.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Handle.html" title="polkadot_overseer::Handle struct">Handle</a></div><div class="item-right docblock-short"><p>A handle used to communicate with the <a href="struct.Overseer.html"><code>Overseer</code></a>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.MessagePacket.html" title="polkadot_overseer::MessagePacket struct">MessagePacket</a></div><div class="item-right docblock-short"><p>A wrapping type for messages.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Metronome.html" title="polkadot_overseer::Metronome struct">Metronome</a></div><div class="item-right docblock-short"><p>Create a stream of ticks with a defined cycle duration.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.OverseenSubsystem.html" title="polkadot_overseer::OverseenSubsystem struct">OverseenSubsystem</a></div><div class="item-right docblock-short"><p>A subsystem that the overseer oversees.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Overseer.html" title="polkadot_overseer::Overseer struct">Overseer</a></div><div class="item-right docblock-short"><p>The overseer.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.OverseerBuilder.html" title="polkadot_overseer::OverseerBuilder struct">OverseerBuilder</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="struct" href="struct.OverseerConnector.html" title="polkadot_overseer::OverseerConnector struct">OverseerConnector</a></div><div class="item-right docblock-short"><p>External connector.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.OverseerSubsystemContext.html" title="polkadot_overseer::OverseerSubsystemContext struct">OverseerSubsystemContext</a></div><div class="item-right docblock-short"><p>A context type that is given to the <a href="trait.Subsystem.html"><code>Subsystem</code></a> upon spawning.
It can be used by <a href="trait.Subsystem.html"><code>Subsystem</code></a> to communicate with other <a href="trait.Subsystem.html"><code>Subsystem</code></a>s
or to spawn it’s <a href="trait.SubsystemJob.html"><code>SubsystemJob</code></a>s.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.OverseerSubsystemSender.html" title="polkadot_overseer::OverseerSubsystemSender struct">OverseerSubsystemSender</a></div><div class="item-right docblock-short"><p>Connector to send messages towards all subsystems,
while tracking the which signals where already received.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SignalsReceived.html" title="polkadot_overseer::SignalsReceived struct">SignalsReceived</a></div><div class="item-right docblock-short"><p>Watermark to track the received signals.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SubsystemInstance.html" title="polkadot_overseer::SubsystemInstance struct">SubsystemInstance</a></div><div class="item-right docblock-short"><p>A running instance of some <a href="trait.Subsystem.html"><code>Subsystem</code></a>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SubsystemMeterReadouts.html" title="polkadot_overseer::SubsystemMeterReadouts struct">SubsystemMeterReadouts</a></div><div class="item-right docblock-short"><p>Set of readouts of the <code>Meter</code>s of a subsystem.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SubsystemMeters.html" title="polkadot_overseer::SubsystemMeters struct">SubsystemMeters</a></div><div class="item-right docblock-short"><p>Collection of meters related to a subsystem.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.AllMessages.html" title="polkadot_overseer::AllMessages enum">AllMessages</a></div><div class="item-right docblock-short"><p>Generated message type wrapper</p>
</div><div class="item-left module-item"><a class="enum" href="enum.Event.html" title="polkadot_overseer::Event enum">Event</a></div><div class="item-right docblock-short"><p>An event from outside the overseer scope, such
as the substrate framework or user interaction.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.ExternalRequest.html" title="polkadot_overseer::ExternalRequest enum">ExternalRequest</a></div><div class="item-right docblock-short"><p>Some request from outer world.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.FromOverseer.html" title="polkadot_overseer::FromOverseer enum">FromOverseer</a></div><div class="item-right docblock-short"><p>A message type that a subsystem receives from an overseer.
It wraps signals from an overseer and messages that are circulating
between subsystems.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.LeafStatus.html" title="polkadot_overseer::LeafStatus enum">LeafStatus</a></div><div class="item-right docblock-short"><p>The status of an activated leaf.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.OverseerSignal.html" title="polkadot_overseer::OverseerSignal enum">OverseerSignal</a></div><div class="item-right docblock-short"><p>Signals sent by an overseer to a subsystem.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.SubsystemError.html" title="polkadot_overseer::SubsystemError enum">SubsystemError</a></div><div class="item-right docblock-short"><p>An error type that describes faults that may happen</p>
</div><div class="item-left module-item"><a class="enum" href="enum.ToOverseer.html" title="polkadot_overseer::ToOverseer enum">ToOverseer</a></div><div class="item-right docblock-short"><p>A type of messages that are sent from <a href="trait.Subsystem.html" title="Subsystem"><code>Subsystem</code></a> to [<code>Overseer</code>].</p>
</div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="constant" href="constant.KNOWN_LEAVES_CACHE_SIZE.html" title="polkadot_overseer::KNOWN_LEAVES_CACHE_SIZE constant">KNOWN_LEAVES_CACHE_SIZE</a></div><div class="item-right docblock-short"><p>Store 2 days worth of blocks, not accounting for forks,
in the LRU cache. Assumes a 6-second block time.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.HeadSupportsParachains.html" title="polkadot_overseer::HeadSupportsParachains trait">HeadSupportsParachains</a></div><div class="item-right docblock-short"><p>Whether a header supports parachain consensus or not.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.MapSubsystem.html" title="polkadot_overseer::MapSubsystem trait">MapSubsystem</a></div><div class="item-right docblock-short"><p>A helper trait to map a subsystem to smth. else.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.MetricsTrait.html" title="polkadot_overseer::MetricsTrait trait">MetricsTrait</a></div><div class="item-right docblock-short"><p>Subsystem- or job-specific Prometheus metrics.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.SpawnNamed.html" title="polkadot_overseer::SpawnNamed trait">SpawnNamed</a></div><div class="item-right docblock-short"><p>Something that can spawn tasks (blocking and non-blocking) with an assigned name.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.Subsystem.html" title="polkadot_overseer::Subsystem trait">Subsystem</a></div><div class="item-right docblock-short"><p>A trait that describes the <a href="trait.Subsystem.html"><code>Subsystem</code></a>s that can run on the <a href="struct.Overseer.html"><code>Overseer</code></a>.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.SubsystemContext.html" title="polkadot_overseer::SubsystemContext trait">SubsystemContext</a></div><div class="item-right docblock-short"><p>A context type that is given to the <a href="trait.Subsystem.html" title="Subsystem"><code>Subsystem</code></a> upon spawning.
It can be used by <a href="trait.Subsystem.html" title="Subsystem"><code>Subsystem</code></a> to communicate with other <a href="trait.Subsystem.html" title="Subsystem"><code>Subsystem</code></a>s
or spawn jobs.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.SubsystemSender.html" title="polkadot_overseer::SubsystemSender trait">SubsystemSender</a></div><div class="item-right docblock-short"><p>Sender end of a channel to interface with a subsystem.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.TaskKind.html" title="polkadot_overseer::TaskKind trait">TaskKind</a></div><div class="item-right docblock-short"><p>Task kind to launch.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.TimeoutExt.html" title="polkadot_overseer::TimeoutExt trait">TimeoutExt</a></div><div class="item-right docblock-short"><p>Extends <code>Future</code> to allow time-limited futures.</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.forward_events.html" title="polkadot_overseer::forward_events fn">forward_events</a></div><div class="item-right docblock-short"><p>Glues together the <a href="struct.Overseer.html" title="Overseer"><code>Overseer</code></a> and <code>BlockchainEvents</code> by forwarding
import and finality notifications into the <a href="type.OverseerHandle.html" title="OverseerHandle"><code>OverseerHandle</code></a>.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.spawn.html" title="polkadot_overseer::spawn fn">spawn</a></div><div class="item-right docblock-short"><p>Spawn task of kind <code>self</code> using spawner <code>S</code>.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.spawn_metronome_metrics.html" title="polkadot_overseer::spawn_metronome_metrics fn">spawn_metronome_metrics</a></div><div class="item-right docblock-short"><p>Spawn the metrics metronome task.</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.OverseerHandle.html" title="polkadot_overseer::OverseerHandle type">OverseerHandle</a></div><div class="item-right docblock-short"><p>Handle for an overseer.</p>
</div><div class="item-left module-item"><a class="type" href="type.SubsystemIncomingMessages.html" title="polkadot_overseer::SubsystemIncomingMessages type">SubsystemIncomingMessages</a></div><div class="item-right docblock-short"><p>Incoming messages from both the bounded and unbounded channel.</p>
</div><div class="item-left module-item"><a class="type" href="type.SubsystemResult.html" title="polkadot_overseer::SubsystemResult type">SubsystemResult</a></div><div class="item-right docblock-short"><p>Ease the use of subsystem errors.</p>
</div></div><h2 id="attributes" class="section-header"><a href="#attributes">Attribute Macros</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="attr" href="attr.overlord.html" title="polkadot_overseer::overlord attr">overlord</a></div><div class="item-right docblock-short"></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="polkadot_overseer" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>