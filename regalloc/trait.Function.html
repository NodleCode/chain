<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait defined by the regalloc client to provide access to its machine-instruction &#x2F; CFG representation."><meta name="keywords" content="rust, rustlang, rust-lang, Function"><title>Function in regalloc - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../regalloc/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Trait Function</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.Inst">Inst</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.block_insns">block_insns</a><a href="#tymethod.block_succs">block_succs</a><a href="#tymethod.blocks">blocks</a><a href="#tymethod.entry_block">entry_block</a><a href="#tymethod.func_liveins">func_liveins</a><a href="#tymethod.func_liveouts">func_liveouts</a><a href="#tymethod.gen_move">gen_move</a><a href="#tymethod.gen_reload">gen_reload</a><a href="#tymethod.gen_spill">gen_spill</a><a href="#tymethod.gen_zero_len_nop">gen_zero_len_nop</a><a href="#tymethod.get_insn">get_insn</a><a href="#tymethod.get_insn_mut">get_insn_mut</a><a href="#tymethod.get_num_vregs">get_num_vregs</a><a href="#tymethod.get_regs">get_regs</a><a href="#tymethod.get_spillslot_size">get_spillslot_size</a><a href="#tymethod.insns">insns</a><a href="#tymethod.insns_mut">insns_mut</a><a href="#tymethod.is_move">is_move</a><a href="#tymethod.is_ret">is_ret</a><a href="#tymethod.map_regs">map_regs</a><a href="#tymethod.maybe_direct_reload">maybe_direct_reload</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.insn_indices">insn_indices</a><a href="#method.is_included_in_clobbers">is_included_in_clobbers</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">regalloc</a></h2><div id="sidebar-vars" data-name="Function" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">regalloc</a>::<wbr><a class="trait" href="#">Function</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/regalloc/lib.rs.html#185-361" title="goto source code">[src]</a></span></h1><div class="docblock type-decl"><pre class="rust trait"><code>pub trait Function {
    type <a href="#associatedtype.Inst" class="type">Inst</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>;
<details class="rustdoc-toggle type-contents-toggle"><summary class="hideme"><span>Show 23 methods</span></summary>    fn <a href="#tymethod.insns" class="fnname">insns</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">&amp;[</a>Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.insns_mut" class="fnname">insns_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">&amp;mut [</a>Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_insn" class="fnname">get_insn</a>(&amp;self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_insn_mut" class="fnname">get_insn_mut</a>(&amp;mut self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; &amp;mut Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.blocks" class="fnname">blocks</a>(&amp;self) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.entry_block" class="fnname">entry_block</a>(&amp;self) -&gt; <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.block_insns" class="fnname">block_insns</a>(&amp;self, block: <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.block_succs" class="fnname">block_succs</a>(&amp;self, block: <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">[</a><a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.is_ret" class="fnname">is_ret</a>(&amp;self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_regs" class="fnname">get_regs</a>(insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, collector: &amp;mut <a class="struct" href="struct.RegUsageCollector.html" title="struct regalloc::RegUsageCollector">RegUsageCollector</a>&lt;'_&gt;);
<div class="item-spacer"></div>    fn <a href="#tymethod.map_regs" class="fnname">map_regs</a>&lt;RUM:&nbsp;<a class="trait" href="trait.RegUsageMapper.html" title="trait regalloc::RegUsageMapper">RegUsageMapper</a>&gt;(insn: &amp;mut Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, maps: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;</a>RUM);
<div class="item-spacer"></div>    fn <a href="#tymethod.is_move" class="fnname">is_move</a>(&amp;self, insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.tuple.html">(</a><a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.Reg.html" title="struct regalloc::Reg">Reg</a>&gt;, <a class="struct" href="struct.Reg.html" title="struct regalloc::Reg">Reg</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.tuple.html">)</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_num_vregs" class="fnname">get_num_vregs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.usize.html">usize</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_spillslot_size" class="fnname">get_spillslot_size</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regclass: <a class="enum" href="enum.RegClass.html" title="enum regalloc::RegClass">RegClass</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.u32.html">u32</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.gen_spill" class="fnname">gen_spill</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from_reg: <a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.gen_reload" class="fnname">gen_reload</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_reg: <a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from_slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.gen_move" class="fnname">gen_move</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to_reg: <a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from_reg: <a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.gen_zero_len_nop" class="fnname">gen_zero_len_nop</a>(&amp;self) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.maybe_direct_reload" class="fnname">maybe_direct_reload</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.func_liveins" class="fnname">func_liveins</a>(&amp;self) -&gt; <a class="struct" href="struct.Set.html" title="struct regalloc::Set">Set</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.func_liveouts" class="fnname">func_liveouts</a>(&amp;self) -&gt; <a class="struct" href="struct.Set.html" title="struct regalloc::Set">Set</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;;

    fn <a href="#method.insn_indices" class="fnname">insn_indices</a>(&amp;self) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_included_in_clobbers" class="fnname">is_included_in_clobbers</a>(&amp;self, _insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a> { ... }
</details>}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait defined by the regalloc client to provide access to its
machine-instruction / CFG representation.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Inst" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#188" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.Inst" class="type">Inst</a>: <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.56.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a></h4></div></summary><div class="docblock"><p>Regalloc is parameterized on F: Function and so can use the projected
type F::Inst.</p>
</div></details></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.insns" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#195" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.insns" class="fnname">insns</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">&amp;[</a>Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a></h4></div></summary><div class="docblock"><p>Allow access to the underlying vector of instructions.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.insns_mut" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#203" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.insns_mut" class="fnname">insns_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">&amp;mut [</a>Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a></h4></div></summary><div class="docblock"><p>Allow mutable access to the underlying vector of instructions.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_insn" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#206" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_insn" class="fnname">get_insn</a>(&amp;self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Get an instruction with a type-safe InstIx index.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_insn_mut" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#210" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_insn_mut" class="fnname">get_insn_mut</a>(&amp;mut self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; &amp;mut Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Get a mutable borrow of an instruction with the given type-safe InstIx
index.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.blocks" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#213" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.blocks" class="fnname">blocks</a>(&amp;self) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>&gt;</h4></div></summary><div class="docblock"><p>Allow iteration over basic blocks (in instruction order).</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.entry_block" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#216" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.entry_block" class="fnname">entry_block</a>(&amp;self) -&gt; <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a></h4></div></summary><div class="docblock"><p>Get the index of the entry block.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.block_insns" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#219" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.block_insns" class="fnname">block_insns</a>(&amp;self, block: <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>&gt;</h4></div></summary><div class="docblock"><p>Provide the range of instruction indices contained in each block.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.block_succs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#222" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.block_succs" class="fnname">block_succs</a>(&amp;self, block: <a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/alloc/borrow/enum.Cow.html" title="enum alloc::borrow::Cow">Cow</a>&lt;'_, <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">[</a><a class="enum" href="enum.BlockIx.html" title="enum regalloc::BlockIx">BlockIx</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.slice.html">]</a>&gt;</h4></div></summary><div class="docblock"><p>Get CFG successors for a given block.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.is_ret" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#225" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.is_ret" class="fnname">is_ret</a>(&amp;self, insn: <a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Determine whether an instruction is a return instruction.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_regs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#252" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_regs" class="fnname">get_regs</a>(insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, collector: &amp;mut <a class="struct" href="struct.RegUsageCollector.html" title="struct regalloc::RegUsageCollector">RegUsageCollector</a>&lt;'_&gt;)</h4></div></summary><div class="docblock"><p>Add to <code>collector</code> the used, defined, and modified registers for an
instruction.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.map_regs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#264" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.map_regs" class="fnname">map_regs</a>&lt;RUM:&nbsp;<a class="trait" href="trait.RegUsageMapper.html" title="trait regalloc::RegUsageMapper">RegUsageMapper</a>&gt;(insn: &amp;mut Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, maps: <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.reference.html">&amp;</a>RUM)</h4></div></summary><div class="docblock"><p>Map each register slot through a virtual-to-real mapping indexed
by virtual register. The two separate maps in <code>maps.pre</code> and
<code>maps.post</code> provide the mapping to use for uses (which semantically
occur just prior to the instruction’s effect) and defs (which
semantically occur just after the instruction’s effect). Regs that were
“modified” can use either map; the vreg should be the same in both.</p>
<p>Note that this does not take a <code>self</code>, because we want to allow the
regalloc to have a mutable borrow of an insn (which borrows the whole
Function in turn) outstanding while calling this.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.is_move" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#267" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.is_move" class="fnname">is_move</a>(&amp;self, insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.tuple.html">(</a><a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.Reg.html" title="struct regalloc::Reg">Reg</a>&gt;, <a class="struct" href="struct.Reg.html" title="struct regalloc::Reg">Reg</a><a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Allow the regalloc to query whether this is a move. Returns (dst, src).</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_num_vregs" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#272" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_num_vregs" class="fnname">get_num_vregs</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the precise number of <code>VirtualReg</code> in use in this function, to allow preallocating data
structures. This number <em>must</em> be a correct lower-bound, otherwise invalid index failures
may happen; it is of course better if it is exact.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_spillslot_size" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#289" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_spillslot_size" class="fnname">get_spillslot_size</a>(&amp;self, regclass: <a class="enum" href="enum.RegClass.html" title="enum regalloc::RegClass">RegClass</a>, for_vreg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.u32.html">u32</a></h4></div></summary><div class="docblock"><p>How many logical spill slots does the given regclass require?  E.g., on a
64-bit machine, spill slots may nominally be 64-bit words, but a 128-bit
vector value will require two slots.  The regalloc will always align on
this size.</p>
<p>This passes the associated virtual register to the client as well,
because the way in which we spill a real register may depend on the
value that we are using it for. E.g., if a machine has V128 registers
but we also use them for F32 and F64 values, we may use a different
store-slot size and smaller-operand store/load instructions for an F64
than for a true V128.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.gen_spill" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#297-302" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.gen_spill" class="fnname">gen_spill</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;to_slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;from_reg: <a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>&gt;<br>) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Generate a spill instruction for insertion into the instruction
sequence. The associated virtual register (whose value is being spilled)
is passed, if it exists, so that the client may make decisions about the
instruction to generate based on the type of value in question.  Because
the register allocator will insert spill instructions at arbitrary points,
the returned instruction here must not modify the machine’s condition codes.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.gen_reload" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#308-313" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.gen_reload" class="fnname">gen_reload</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;to_reg: <a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;from_slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>&gt;<br>) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Generate a reload instruction for insertion into the instruction
sequence. The associated virtual register (whose value is being loaded)
is passed as well, if it exists.  The returned instruction must not modify
the machine’s condition codes.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.gen_move" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#318-323" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.gen_move" class="fnname">gen_move</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;to_reg: <a class="struct" href="struct.Writable.html" title="struct regalloc::Writable">Writable</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;from_reg: <a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;for_vreg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a><br>) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Generate a register-to-register move for insertion into the instruction
sequence. The associated virtual register is passed as well.  The
returned instruction must not modify the machine’s condition codes.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.gen_zero_len_nop" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#326" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.gen_zero_len_nop" class="fnname">gen_zero_len_nop</a>(&amp;self) -&gt; Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a></h4></div></summary><div class="docblock"><p>Generate an instruction which is a no-op and has zero length.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.maybe_direct_reload" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#339-344" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.maybe_direct_reload" class="fnname">maybe_direct_reload</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;reg: <a class="struct" href="struct.VirtualReg.html" title="struct regalloc::VirtualReg">VirtualReg</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;slot: <a class="struct" href="struct.SpillSlot.html" title="struct regalloc::SpillSlot">SpillSlot</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.56.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>&gt;</h4></div></summary><div class="docblock"><p>Try to alter an existing instruction to use a value directly in a
spillslot (accessing memory directly) instead of the given register. May
be useful on ISAs that have mem/reg ops, like x86.</p>
<p>Note that this is not <em>quite</em> just fusing a load with the op; if the
value is def’d or modified, it should be written back to the spill slot
as well. In other words, it is just using the spillslot as if it were a
real register, for reads and/or writes.</p>
<p>FIXME JRS 2020Feb06: state precisely the constraints on condition code
changes.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.func_liveins" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#354" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.func_liveins" class="fnname">func_liveins</a>(&amp;self) -&gt; <a class="struct" href="struct.Set.html" title="struct regalloc::Set">Set</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;</h4></div></summary><div class="docblock"><p>Return the set of registers that should be considered live at the
beginning of the function. This is semantically equivalent to an
instruction at the top of the entry block def’ing all registers in this
set.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.func_liveouts" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#360" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.func_liveouts" class="fnname">func_liveouts</a>(&amp;self) -&gt; <a class="struct" href="struct.Set.html" title="struct regalloc::Set">Set</a>&lt;<a class="struct" href="struct.RealReg.html" title="struct regalloc::RealReg">RealReg</a>&gt;</h4></div></summary><div class="docblock"><p>Return the set of registers that should be considered live at the
end of the function (after every return instruction). This is
semantically equivalent to an instruction at each block with no successors
that uses each of these registers.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.insn_indices" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#198-200" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.insn_indices" class="fnname">insn_indices</a>(&amp;self) -&gt; <a class="struct" href="struct.Range.html" title="struct regalloc::Range">Range</a>&lt;<a class="enum" href="enum.InstIx.html" title="enum regalloc::InstIx">InstIx</a>&gt;</h4></div></summary><div class="docblock"><p>Get all instruction indices as an iterable range.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.is_included_in_clobbers" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/regalloc/lib.rs.html#241-244" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_included_in_clobbers" class="fnname">is_included_in_clobbers</a>(&amp;self, _insn: &amp;Self::<a class="type" href="trait.Function.html#associatedtype.Inst" title="type regalloc::Function::Inst">Inst</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.56.1/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Determine whether an instruction should be considered while computing
the set of registers that need to be saved/restored in the function’s
prologue/epilogue, that is, the registers returned in
<code>clobbered_registers</code> in <code>RegAllocResult</code>.  computation. Only
instructions for which this function returns <code>true</code> will be used to
compute that set.</p>
<p>One reason that a client might <em>not</em> want an instruction to be included
would be if it can handle the clobbers some other way: for example,
ABI-support code might exclude call instructions’ defs and mods from the
clobber set, because (given the callee has same ABI as the caller) the
registers possibly written by the callee are all registers that the
caller is also allowed to clobber (not save/restore in
prologue/epilogue).</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../implementors/regalloc/trait.Function.js" async></script></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="regalloc" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>